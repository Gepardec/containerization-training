<section>
    <section class="no_bg">
        <h2>Wrap Up - Spring Boot</h2>
    </section>
    <section data-background="#00a2a1" class="green_bg">
        <h2>Exercise Instructions</h2>
        <ul>
            <li>Goal: Build a docker image that runs a Java application</li>
            <li>Clone the git repository at <a href="https://github.com/ckaserer/java-helloworld">https://github.com/ckaserer/java-helloworld</a></li>
            <li>Build the application using <code>gradle bootJar</code> and find the resulting fat-jar file at <code>build/libs</code> (already done for you).</li>
            <li>You can run the java application locally with <code>java –jar rest-service-0.0.1-SNAPSHOT.jar</code>, this starts an application server on port 8080. Check it in your browser via <a href="http://127.0.0.1:8080/greeting">http://127.0.0.1:8080/greeting</a> (respectively with your AWS instance public dns).</li>
        </ul>
        <br>
        <br>
        <h2 class="timer"></h2>
    </section>
    
    <section data-background="#00a2a1" class="green_bg">
        <h2>Solution Hints</h2>
        <ul>
            <li>Build the application outside of the container (already done and checked into git).</li>
            <li>Find a suitable docker base image, that has a JRE installation.</li>
            <li>Use both the <code>CMD</code> and the <code>ENTRYPOINT</code> instructions.</li>
            <li>Run two instances of the container – what do you have to take care of? Make sure both instances are reachable via browser.</li>
        </ul>
        <br>
        <br>
        <h2 class="timer"></h2>
    </section>
    
    <section class="no_bg">
        <h2>Solution</h2>
        <p>Sample Dockerfile</p>
        <pre><code data-trim data-noescape>FROM anapsix/alpine-java
LABEL MAINTAINER=clemens.kaserer@gepardec.com
WORKDIR /data
EXPOSE 8080
COPY build/libs/rest-service-0.0.1-SNAPSHOT.jar \
     rest-service-0.0.1-SNAPSHOT.jar
CMD ["-jar", "rest-service-0.0.1-SNAPSHOT.jar"]
ENTRYPOINT ["java"]</code></pre>            
        <p>Solution Commands</p>
            <ul>
                <li>docker build -t spring_boot_example .</li>
                <li>docker run –d –p 80:8080 spring_boot_example</li>
            </ul>

    </section>
</section>